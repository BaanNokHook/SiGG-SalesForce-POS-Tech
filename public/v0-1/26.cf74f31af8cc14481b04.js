(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{ITNa:function(t,n,e){"use strict";e.r(n);var l=e("CcnG"),o=e("mrSG"),a=e("ZZ/e"),i=e("ng2X"),s=e("5X7D"),r=e("3U6K"),u=e("tWFK"),c=e("2rRA"),b=e("7kQn"),p=function(){function t(t,n,e,l,o,a){this.menu=t,this.navCtrl=n,this.conf=e,this.modalController=l,this.events=o,this.ds=a,this.sliderOne={isBeginningSlide:!0,isEndSlide:!1,slidesItems:[]},this.URL="",this.slideOptsOne={initialSlide:0,slidesPerView:1,autoplay:!0},this.TableCode="",this.flag="",this.captions={wellcome:"",startButton:"",table:"",callCustomer:"",tablenoservice:""},this.welcomeText={CurrentCaption:"",EnglishCaption:"",LocalCaption:""},this.BannerData=null,this.AutoSettingTable=null,this.conf.checkOganizationCode(),this.URL=this.ds.http_realtime,this.TableCode="",this.getBanner(),this.getWelcomeText()}return t.prototype.onScanQR=function(){return o.b(this,void 0,void 0,function(){var t;return o.e(this,function(n){switch(n.label){case 0:return[4,this.modalController.create({component:b.a,cssClass:"modal-fullscreen-tablet",componentProps:{},backdropDismiss:!0,keyboardClose:!0,mode:"ios"})];case 1:return(t=n.sent()).onDidDismiss().then(function(t){}),[4,t.present()];case 2:return[2,n.sent()]}})})},t.prototype.setAutoLoadTable=function(t){var n=this;this.autoLoadTableData=null,this.autoLoadTableData=setInterval(function(){n.onUpdateTable()},t)},t.prototype.onLogoAction=function(){return o.b(this,void 0,void 0,function(){var t,n=this;return o.e(this,function(e){switch(e.label){case 0:return[4,this.modalController.create({component:c.a,cssClass:"modal-fullscreen-tablet-top",componentProps:{},backdropDismiss:!0,keyboardClose:!0,mode:"ios"})];case 1:return(t=e.sent()).onDidDismiss().then(function(t){null!=t.data&&n.setFlag(!0)}),[4,t.present()];case 2:return[2,e.sent()]}})})},t.prototype.getWelcomeText=function(){var t=this;this.ds.getWelcomeText().subscribe(function(n){null!=n?(t.welcomeText=n[0],t.setFlag(!0)):t.setFlag(!1)},function(n){t.setFlag(!1)})},t.prototype.getBanner=function(){return o.b(this,void 0,void 0,function(){var t,n=this;return o.e(this,function(e){switch(e.label){case 0:return t=this,[4,this.ds.getBanner()];case 1:return t.BannerData=e.sent(),this.BannerData.subscribe(function(t){if(null!=t&&null!=t&&t!=[]){var e=[{id:0,image:t[0].image1},{id:1,image:t[0].image2},{id:2,image:t[0].image3},{id:3,image:t[0].image4},{id:4,image:t[0].image5}];e=e.filter(function(t,n){return""!=t.image}),n.sliderOne.slidesItems=e}},function(t){}),[2]}})})},t.prototype.setFlag=function(t){var n=this,e=localStorage.getItem("lang");null===e&&localStorage.setItem("lang","th"),this.flag=null===e?"th":e,!1===t?"th"===e?setTimeout(function(){n.captions.startButton="\u0e40\u0e23\u0e34\u0e48\u0e21\u0e2a\u0e31\u0e48\u0e07\u0e2d\u0e32\u0e2b\u0e32\u0e23",n.captions.wellcome="\u0e22\u0e34\u0e19\u0e14\u0e35\u0e15\u0e49\u0e2d\u0e19\u0e23\u0e31\u0e1a\u0e2a\u0e39\u0e48\u0e19\u0e34\u0e15\u0e22\u0e32\u0e44\u0e01\u0e48\u0e22\u0e48\u0e32\u0e07",n.TableCode="",n.captions.table="\u0e42\u0e15\u0e4a\u0e30",n.captions.callCustomer="\u0e01\u0e23\u0e38\u0e13\u0e32\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19",n.captions.tablenoservice="\u0e01\u0e23\u0e38\u0e13\u0e32\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19"},300):setTimeout(function(){n.captions.startButton="Start Order",n.captions.wellcome="Welcome to Nittaya kaiyang",n.TableCode="",n.captions.table="TABLE",n.captions.callCustomer="Please Contact Staff",n.captions.tablenoservice="Please Contact Staff"},300):"th"===e?(this.captions.startButton="\u0e40\u0e23\u0e34\u0e48\u0e21\u0e2a\u0e31\u0e48\u0e07\u0e2d\u0e32\u0e2b\u0e32\u0e23",this.captions.wellcome=this.welcomeText.LocalCaption,this.TableCode="\u0e42\u0e15\u0e4a\u0e30",this.captions.callCustomer="\u0e01\u0e23\u0e38\u0e13\u0e32\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19",this.captions.tablenoservice="\u0e01\u0e23\u0e38\u0e13\u0e32\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e1e\u0e19\u0e31\u0e01\u0e07\u0e32\u0e19"):(this.captions.startButton="Start Order",this.captions.wellcome=this.welcomeText.EnglishCaption,this.TableCode="TABLE",this.captions.callCustomer="Please Contact Staff",this.captions.tablenoservice="Please Contact Staff")},t.prototype.ngOnInit=function(){var t=this;this.menu.enable(!1,"menu_first"),this.menu.enable(!1,"menu_setting"),this.menu.enable(!1,"menu_more"),this.menu.enable(!1,"menu_order"),this.events.subscribe("lang",function(n){t.flag=n,t.setFlag(!0)});var n=setInterval(function(){var e=localStorage.getItem("TableCode");null==e||""===e?clearInterval(n):t.TableCode=e},500);this.AutoSettingTable=setInterval(function(){},3e3)},t.prototype.StartOder=function(){this.navCtrl.navigateRoot("ordering")},t.prototype.onConfig=function(){},t.prototype.onOpenLanguages=function(t){this.flag="th"===t?"en":"th",localStorage.setItem("lang",this.flag),this.setFlag(!0)},t.prototype.onOpenTables=function(){return o.b(this,void 0,void 0,function(){var t,n,e=this;return o.e(this,function(l){switch(l.label){case 0:return(t=document.getElementById("btn_button")).style.backgroundColor="#c20f0f",t.style.color="#fff",setTimeout(function(){t.style.backgroundColor="#000",t.style.color="#fff"},100),[4,this.modalController.create({component:s.a,cssClass:"modal-fullscreen-tablet-top",componentProps:{},backdropDismiss:!0,keyboardClose:!0,mode:"ios",id:"modalAppTableID"})];case 1:return(n=l.sent()).onDidDismiss().then(function(t){null!=t.data&&(e.TableCode=localStorage.getItem("TableCode"),e.getBanner(),console.log("Modal Sent Data :",t))}),[4,n.present()];case 2:return[2,l.sent()]}})})},t.prototype.onUpdateTable=function(){var t=this;this.conf.checkOganizationCode();var n=null;if(null!==(n=localStorage.getItem("keys"))){var e,l=(n=JSON.parse(n)).CompanyId,o=n.BrandId,a=n.OutletId;null!==(e=localStorage.getItem("TableCode"))&&this.ds.getOutletTableUrl(l,o,a).subscribe(function(n){if(null!==n){var l=n.filter(function(t,n){return t.TableNo===e});""===l[0].StartTime&&(l[0].StartTime="00:00");var o=t.conf.CompanyId+","+t.conf.BrandId+","+t.conf.OutletId+","+l[0].SystemDate.split("T")[0]+","+l[0].TableNo+","+l[0].StartTime,a=new r.a;a.CompanyId=t.conf.CompanyId,a.BrandId=t.conf.BrandId,a.OutletId=t.conf.OutletId,a.ID=o,a.StartTime=l[0].StartTime,a.SystemDate=l[0].SystemDate.split("T")[0],a.TableNo=l[0].TableNo,localStorage.setItem("GuestCount",""+l[0].Pax),localStorage.setItem("TableData",JSON.stringify(l)),localStorage.setItem("guestname",l[0].TableNo),localStorage.setItem("MASTER_OBJECT",JSON.stringify(a)),localStorage.setItem("MASTER_ID",o)}},function(t){})}},t.prototype.onOpenGuest=function(){return o.b(this,void 0,void 0,function(){var t,n,e=this;return o.e(this,function(l){switch(l.label){case 0:return[4,localStorage.getItem("TableData")];case 1:return t=l.sent(),"TABLE"===this.TableCode||null===t?(alert(this.captions.tablenoservice),[2]):[4,localStorage.getItem("MASTER_ID")];case 2:return null===(n=l.sent())?[2]:[4,localStorage.getItem("GuestCount")];case 3:return l.sent(),[4,this.ds.getTableVerifyUrl(n).subscribe(function(t){return o.b(e,void 0,void 0,function(){return o.e(this,function(n){switch(n.label){case 0:return 0!==parseInt(t.IsCanOrder)?[3,1]:(alert(this.captions.tablenoservice),[2]);case 1:return[4,this.onUpdateTable()];case 2:n.sent(),this.autoLoadTableData=null,this.navCtrl.navigateRoot("ordering"),n.label=3;case 3:return[2]}})})})];case 4:return l.sent(),[2]}})})},t}(),d=function(){return function(){}}(),h=e("pMnS"),f=e("oBZk"),m=e("Ip0R"),g=l.nb({encapsulation:0,styles:[[""]],data:{}});function v(t){return l.Hb(0,[(t()(),l.pb(0,0,null,null,2,"ion-slide",[],null,null,null,f.X,f.v)),l.ob(1,49152,null,0,a.pb,[l.h,l.k],null,null),(t()(),l.pb(2,0,null,0,0,"img",[["style","width: 414px; height: 300px;"]],[[8,"id",0],[8,"src",4]],null,null,null,null))],null,function(t,n){var e=n.component;t(n,2,0,l.rb(1,"slideig_",n.context.$implicit.id,""),l.rb(2,"",e.URL,"",n.context.$implicit.image,""))})}function T(t){return l.Hb(0,[(t()(),l.pb(0,0,null,null,4,"div",[["style","position: relative; width: 100%; height: 300px;"]],null,null,null,null,null)),(t()(),l.pb(1,0,null,null,3,"ion-slides",[],null,null,null,f.Y,f.w)),l.ob(2,49152,[["slideWithNav",4]],0,a.qb,[l.h,l.k],{options:[0,"options"]},null),(t()(),l.gb(16777216,null,0,1,null,v)),l.ob(4,278528,null,0,m.i,[l.O,l.L,l.s],{ngForOf:[0,"ngForOf"]},null)],function(t,n){var e=n.component;t(n,2,0,e.slideOptsOne),t(n,4,0,e.sliderOne.slidesItems)},null)}function C(t){return l.Hb(0,[(t()(),l.pb(0,0,null,null,3,"ion-content",[],null,null,null,f.M,f.k)),l.ob(1,49152,null,0,a.u,[l.h,l.k],null,null),(t()(),l.gb(16777216,null,0,1,null,T)),l.ob(3,16384,null,0,m.j,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(t()(),l.pb(4,0,null,null,8,"ion-footer",[],null,null,null,f.N,f.l)),l.ob(5,49152,null,0,a.z,[l.h,l.k],null,null),(t()(),l.pb(6,0,null,0,6,"ion-row",[],null,null,null,f.U,f.s)),l.ob(7,49152,null,0,a.ib,[l.h,l.k],null,null),(t()(),l.pb(8,0,null,0,4,"ion-col",[],null,null,null,f.L,f.j)),l.ob(9,49152,null,0,a.t,[l.h,l.k],null,null),(t()(),l.pb(10,0,null,0,2,"ion-button",[["expand","full"],["size","large"],["style","--background-activated: #FAEFE4; --background: #941000; margin-top: 5px;width: 187px; height: 50px;font-family: THSN; font-size: 34px;font-weight: bold;"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.onOpenGuest()&&l),l},f.D,f.b)),l.ob(11,49152,null,0,a.k,[l.h,l.k],{expand:[0,"expand"],size:[1,"size"]},null),(t()(),l.Fb(12,0,["",""]))],function(t,n){t(n,3,0,n.component.BannerData),t(n,11,0,"full","large")},function(t,n){t(n,12,0,n.component.captions.startButton)})}function I(t){return l.Hb(0,[(t()(),l.pb(0,0,null,null,1,"app-splashscreen",[],null,null,null,C,g)),l.ob(1,114688,null,0,p,[a.Gb,a.Ib,i.b,a.Hb,a.e,u.a],null,null)],function(t,n){t(n,1,0)},null)}var S=l.lb("app-splashscreen",p,I,{},{},[]),y=e("gIcY"),x=e("ZYCi");e.d(n,"SplashscreenPageModuleNgFactory",function(){return k});var k=l.mb(d,[],function(t){return l.wb([l.xb(512,l.j,l.bb,[[8,[h.a,S]],[3,l.j],l.x]),l.xb(4608,m.l,m.k,[l.u,[2,m.r]]),l.xb(4608,y.h,y.h,[]),l.xb(4608,a.b,a.b,[l.z,l.g]),l.xb(4608,a.Hb,a.Hb,[a.b,l.j,l.q,m.c]),l.xb(4608,a.Lb,a.Lb,[a.b,l.j,l.q,m.c]),l.xb(1073742336,m.b,m.b,[]),l.xb(1073742336,y.g,y.g,[]),l.xb(1073742336,y.b,y.b,[]),l.xb(1073742336,a.Db,a.Db,[]),l.xb(1073742336,x.n,x.n,[[2,x.t],[2,x.m]]),l.xb(1073742336,d,d,[]),l.xb(1024,x.k,function(){return[[{path:"",component:p}]]},[])])})}}]);